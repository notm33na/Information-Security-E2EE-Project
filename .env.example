# ============================================================================
# Environment Variables Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control
# ============================================================================

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------
# HTTP port (redirects to HTTPS)
PORT_HTTP=8080

# HTTPS port (main API server)
PORT_HTTPS=8443

# Node environment: development, production, or test
NODE_ENV=development

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# MongoDB connection URI
# Format: mongodb://localhost:27017/infosec
# Or for MongoDB Atlas: mongodb+srv://username:password@cluster.mongodb.net/dbname
MONGO_URI=mongodb://localhost:27017/infosec

# Database name (optional, defaults to 'infosec' if not in URI)
DB_NAME=infosec

# ----------------------------------------------------------------------------
# Security & Logging
# ----------------------------------------------------------------------------
# Log HMAC key for log integrity protection (REQUIRED in production)
# Generate a secure random key: openssl rand -hex 32
# Minimum 32 bytes, hex-encoded
LOG_HMAC_KEY=

# Log encryption key (optional, for encrypting sensitive log fields)
# Generate: openssl rand -hex 32
LOG_ENCRYPTION_KEY=

# Log level: error, warn, info, debug
LOG_LEVEL=info

# Log prefix (optional, for test isolation)
LOG_PREFIX=

# ----------------------------------------------------------------------------
# JWT Token Configuration
# ----------------------------------------------------------------------------
# Access token expiry (default: 5m)
ACCESS_TOKEN_EXPIRY=5m

# Refresh token expiry (default: 7d)
REFRESH_TOKEN_EXPIRY=7d

# ----------------------------------------------------------------------------
# Client Configuration
# ----------------------------------------------------------------------------
# Client URL for CORS (production only)
# Default: https://localhost:5173
CLIENT_URL=https://localhost:5173

# ----------------------------------------------------------------------------
# WebSocket Configuration
# ----------------------------------------------------------------------------
# Maximum WebSocket connections per IP (default: 20)
MAX_WS_CONNECTIONS_PER_IP=20

# ----------------------------------------------------------------------------
# Cryptographic Configuration
# ----------------------------------------------------------------------------
# PBKDF2 iterations for key derivation (default: 100000)
# Higher values = more secure but slower
CRYPTO_PBKDF2_ITERATIONS=100000

# ----------------------------------------------------------------------------
# Attack Simulation (Educational Purpose Only)
# ----------------------------------------------------------------------------
# Enable MITM attack simulation mode
# Set to 'true' or '1' to enable (default: disabled)
MITM_ATTACK_MODE=false

# Enable replay attack simulation mode
# Set to 'true' or '1' to enable (default: disabled)
REPLAY_ATTACK_MODE=false

# ----------------------------------------------------------------------------
# Test Configuration (for test suites only)
# ----------------------------------------------------------------------------
# Test MongoDB URI (optional, defaults to mongodb://localhost:27017/infosec_test)
TEST_MONGO_URI=

# Test logs directory (optional, for test isolation)
TEST_LOGS_DIR=

# Server URL for tests (optional)
SERVER_URL=https://localhost:3443

# ----------------------------------------------------------------------------
# Script Configuration (for attack simulation scripts)
# ----------------------------------------------------------------------------
# API base URL for attack simulation scripts
API_URL=https://localhost:8443

# Allow insecure TLS connections (for self-signed certs in development)
# Set to 'true' to allow, 'false' to reject (default: true for development)
INSECURE=true
